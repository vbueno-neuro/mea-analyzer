üöÄ Quick Start ‚Äî MEA Analyzer (Lab Users)

This guide explains how to go from raw Axion MEA Neural Metrics CSV files to clean tables, figures, and statistics, even if you have little or no programming experience.

You do not need to modify source code.
All user interaction happens through configuration files and the main notebook.

1. Software to install:

Anaconda Prompt or Miniconda (Python distribution)
üëâ https://docs.conda.io/en/latest/miniconda.html

Python 3.10 or newer

During installation, allow Conda to be added to PATH if prompted

Git (recommended)
üëâ https://git-scm.com/downloads

JupyterLab (installed automatically via the environment)

2. Download the project
Option A ‚Äî Using Git bash (recommended)
```text
git clone https://github.com/vbueno-neuro/mea-analyzer.git
cd mea-analyzer
```

Option B ‚Äî Manual download

- Click Code ‚Üí Download ZIP on GitHub

- mExtract the archive

- Open the extracted mea_project/ folder

3. Set up the Python environment

From the project root folder (mea_project/):
```text
conda env create -f environment.yaml
conda activate mea
```

Start JupyterLab (Anaconda Prompt):
```text
jupyter lab
```
4. Where to put your data

Copy all Axion Neural Metrics CSV files into:

üìÅ data/raw/

‚ö†Ô∏è File naming rules (important)

Filenames must start with a number:

0_ ‚Üí baseline

1_, 2_, 3_ ‚Üí subsequent time points

Example:
```text
0_Baseline.csv
1_Treatment_1h.csv
2_Treatment_24h.csv
```

5. Create your experiment configuration (plate layout)

- You do not edit YAML files manually.

- From the project root, run:
```text
python src/utilities/create_experiment_config.py
```

You will be asked to provide:

- Plate ID

- Raw data directory (data/raw)

- Experimental conditions

- Which wells belong to each condition

- Time point labels (e.g. Baseline, 1h, 24h)

This creates a file such as:
```text
config/Plate_MY_EXPERIMENT.yaml
```

6. Open the main analysis notebook

Open:
```text
notebooks/mea_analyzer_v1.ipynb
```

‚ö†Ô∏è Always run the notebook from top to bottom.

7. What users can change in the notebook

The notebook is divided into clearly labeled sections.
Only the following parameters are meant to be edited by users.

7.1 Select the experiment configuration
CONFIG_PATH = "config/Plate_MY_EXPERIMENT.yaml"

7.2 Select metrics to analyze
```
METRICS_TO_ANALYZE = [
    "Weighted Mean Firing Rate (Hz)",
    "Number of Network Bursts",
    "Synchrony Index"
]
```

7.3 Outlier detection settings
```
OUTLIER_METHOD = "zscore"   # zscore | iqr | mad
OUTLIER_Z = 3.0
```

Outliers are flagged but not removed automatically.

7.4 Decide whether to remove outliers
```
REMOVE_OUTLIERS = True   # or False
```

7.5 Baseline normalization
```
NORMALIZE_TO_BASELINE = True
NORM_METHOD = "ratio"   # ratio | percent | delta
```

Wells with missing or zero baseline values are excluded automatically.

8. What you should NOT change

‚ùå Do not modify:

- Files inside src/

- Function definitions

- Metric handling logic

- DataFrame transformations

9. Outputs generated by the pipeline
üìä Figures

Saved automatically to:
```
figures/
```

Includes:

- Raw time-course plots

- QC plots with outliers

- Baseline-normalized plots

üìÅ Tables

Saved to:
```
outputs/
data/processed/
```

Includes:

- Long-format master tables

- Per-metric wide tables (GraphPad Prism‚Äìready)

- Raw and normalized versions

10. Common issues & solutions

‚ùó Module not found

Make sure you started Jupyter after activating the environment:
```
conda activate mea
jupyter lab
```

‚ùó No data loaded

Check:

- CSV files are inside data/raw/

- Filenames start with 0_, 1_, etc.

‚ùó Missing wells in plots

This is expected if:

- A well was not assigned to any condition

- The well has missing or zero baseline values

11. Scientific assumptions (important)

- Experimental unit = MEA plate

- Wells are technical replicates

- Statistics are time-point‚Äìspecific

- Outliers are QC markers, not automatic exclusions

- Baseline normalization is optional and transparent

12. Getting help

If unsure:

- Re-run the notebook from the top

- Read printed messages in each section

‚úÖ You are now ready to analyze MEA data!
